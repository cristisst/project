## Project

- Project is getting data from the Gov API and is saving the CSV file to local storage Y/m/d structure folders.
- Filename is being generated by using the UNIX TIMESTAMP to avoid duplicate filenames. 
- Once downloaded, the CSV file is being parsed and saved into the DB
- Has been used: “https://ckan.publishing.service.gov.uk/api/action/package_show?id=all-payments-to-suppliers” as the first link used to have unresponsive resource links.

## Installation

Once cloned this project, make sure to run:
```sh
composer update
```
After that, rename the '.env.GOOD' file to '.env' and edit the fields below with the local mysql details:
```php
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=project
DB_USERNAME=project
DB_PASSWORD=project
```
To create the tables run:
```sh
php artisan migrate:fresh
```

## Command line call

- The command:
```sh
path/to/php artisan job:getdata
```

## Local storage
The files are being saved on 'storage/app/YEAR/MONTH/DAY' folder.

## Data
Data is being saved into the 'Payments' table

##What can be/was improved?

- the resource name 'Payments to Suppliers - 2011/2012' is the default value of the argument called 'resource'. Other desired value can be filled.
